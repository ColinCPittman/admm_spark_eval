spark.master            spark://spark-master-40:7077
spark.driver.memory     12g
spark.driver.maxResultSize  6g
spark.executor.memory   10g
spark.executor.cores    2
spark.executor.instances  1
spark.dynamicAllocation.enabled  false
spark.sql.adaptive.enabled  true
spark.sql.adaptive.coalescePartitions.enabled  true
spark.serializer        org.apache.spark.serializer.KryoSerializer
spark.kryo.registrationRequired  false
spark.storage.fraction  0.6
spark.shuffle.spill.compress  true
spark.io.compression.codec  snappy
spark.rdd.compress  true

# Spark 4.0 specific optimizations
spark.sql.adaptive.skewJoin.enabled  true
spark.sql.adaptive.localShuffleReader.enabled  true
spark.sql.adaptive.coalescePartitions.minPartitionSize  1MB
spark.sql.adaptive.coalescePartitions.initialPartitionNum  200

# Memory management for large datasets (Spark 4.0 style - no -Xmx in extraJavaOptions)
spark.driver.extraJavaOptions  -XX:+UseG1GC
spark.executor.extraJavaOptions  -XX:+UseG1GC

# Network and serialization optimizations
spark.network.timeout  800s
spark.rpc.askTimeout  600s
spark.rpc.lookupTimeout  120s
spark.shuffle.registration.timeout  120s
spark.shuffle.registration.maxAttempts  5

# Logging configuration to reduce verbosity for ADMM experiments
log4j.logger.org.apache.spark.scheduler.DAGScheduler=ERROR
log4j.logger.org.apache.spark.storage.BlockManager=ERROR
log4j.logger.org.apache.spark.storage.memory=ERROR